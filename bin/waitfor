#!/usr/bin/env fish

set pid $argv[1]

if command -v caffeinate >/dev/null
    caffeinate -w $pid
else if command -v systemd-inhibit >/dev/null
    systemd-inhibit \
        --who=waitfor \
        --why="Awaiting PID $pid" \
        tail --pid=$pid -f /dev/null
else
    tail --pid=$pid -f /dev/null
end
